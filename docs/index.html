<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Ace Editor sample</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="editor left" id="editor1"></div>
  <div class="editor left" id="editor2"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.0/ace.js"></script>
  <script type="module">
    import run from './docs/rson.js';

    var editor1 = ace.edit("editor1");
    var editor2 = ace.edit("editor2");
    editor2.$blockScrolling = Infinity;
    editor2.setReadOnly(true);
    editor1.session.on('change', function(delta) {
        var v = editor1.getValue();
        editor2.setValue(run(v));
    });
    editor2.session.on('change', function(delta) {
        console.log(delta);
    });
  </script>
</body>
</html>